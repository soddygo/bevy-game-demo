# 像素田园风光游戏设计文档

## 游戏概述

### 核心概念
一个轻松温馨的像素风格田园游戏，玩家扮演一个回到乡村的角色，可以在美丽的田园风光中自由探索，与各种动物互动，体验宁静的乡村生活。

### 游戏目标
- 探索开放的田园世界
- 与动物建立友谊
- 体验简单治愈的乡村生活
- 完成简单的任务和互动

## 游戏世界

### 场景设计
- **村庄中心**：有房子、商店、广场
- **田野区域**：农作物、农田、干草堆
- **森林区域**：树木、灌木、小溪
- **农场区域**：动物圈舍、谷仓
- **花园区域**：花朵、喷泉、长椅

### 时间系统
- 昼夜循环（早上、中午、傍晚、夜晚）
- 动态光照变化
- 不同时间段动物行为不同

## 核心机制

### 角色控制
- **基础移动**：8方向移动（WASD或方向键）
- **跑步功能**：按住Shift加速移动
- **互动键**：空格键与附近物体/动物互动
- **物品栏**：Tab键打开，可携带食物等物品

### 动物交互系统
- **好感度系统**：每只动物都有独立的好感度
- **喂食机制**：不同的动物喜欢不同的食物
- **互动动画**：喂食、抚摸、玩耍等动画
- **动物行为**：动物会根据时间和好感度表现不同行为

### 物品系统
- **食物类**：苹果、胡萝卜、骨头等
- **工具类**：水桶、篮子等
- **装饰类**：花朵、玩具等

## 主要角色

### 玩家角色
- 自定义名称和外观
- 基础属性：饥饿度、疲劳度（可选）
- 携带物品栏（限制格子数量）

### 动物角色
#### 小狗
- 喜欢的食物：苹果、骨头
- 性格：活泼忠诚
- 特殊行为：可以跟随玩家、帮助寻找物品

#### 小猫
- 喜欢的食物：鱼、牛奶
- 性格：独立优雅
- 特殊行为：会在特定时间出现、给予小礼物

#### 鸡群
- 喜欢的食物：谷物、玉米
- 性格：胆小勤奋
- 特殊行为：下鸡蛋、跟随

#### 牛羊
- 喜欢的食物：草、胡萝卜
- 性格：温顺缓慢
- 特殊行为：产奶、产毛

## 任务系统

### 日常任务
- 喂食农场动物
- 收集鸡蛋
- 浇水花朵
- 寻找丢失的物品

### 特殊任务
- 帮助小狗找到丢失的玩具
- 为小猫准备特别的食物
- 修复破损的围栏
- 种植特殊的花朵

## 技术实现（Bevy）

### 核心模块
```rust
// 主要游戏状态
struct GameState {
    time_of_day: TimeOfDay,
    player_inventory: Inventory,
    animal_friendships: HashMap<Entity, Friendship>,
}

// 动物AI组件
#[derive(Component)]
struct AnimalAI {
    personality: Personality,
    hunger: f32,
    friendship_level: u32,
    daily_routine: DailyRoutine,
}

// 交互组件
#[derive(Component)]
struct Interactable {
    interaction_type: InteractionType,
    interaction_range: f32,
}
```

### 关键系统
- **PlayerMovementSystem**：处理玩家移动和输入
- **AnimalAISystem**：控制动物行为和AI
- **DayNightCycleSystem**：管理时间和光照
- **InteractionSystem**：处理玩家与世界的交互
- **InventorySystem**：管理物品栏
- **UISystem**：处理UI界面

### 资源管理
- **Tilemap**：用于像素风格的地图渲染
- **SpriteSheets**：角色和动物动画
- **Audio**：背景音乐和音效
- **Assets**：统一管理游戏资源

## 艺术风格

### 像素艺术
- 分辨率：32x32 或 64x64 像素角色
- 色彩：温暖、柔和的色调
- 动画：流畅的像素动画，每秒8-12帧

### 界面设计
- 简洁的UI，符合像素风格
- 对话框使用圆角矩形
- 物品栏使用网格布局

## 开发计划

### 第一阶段：基础框架
1. 设置Bevy项目和基础结构
2. 实现玩家移动和相机跟随
3. 创建基础地图和场景

### 第二阶段：核心机制
1. 实现动物AI和交互系统
2. 添加物品栏和物品管理
3. 实现昼夜循环系统

### 第三阶段：内容扩展
1. 添加更多动物和互动
2. 实现任务系统
3. 优化性能和用户体验

### 第四阶段：完善和优化
1. 添加音效和音乐
2. 优化游戏平衡
3. 添加更多细节和 polishing

## 扩展功能

### 多人模式
- 本地合作模式
- 在线多人互动

### 季节系统
- 春夏秋冬四季变化
- 不同季节的特别活动

### 建造系统
- 建造和装饰自己的房子
- 种植和管理花园

## 参考游戏
- **Stardew Valley**： farming life simulation
- **Animal Crossing**： animal friendship and daily life
- **A Short Hike**： relaxing exploration
- **Townscaper**： peaceful building experience

---

*这个设计文档提供了游戏的整体框架，具体实现细节会根据开发过程中的实际情况进行调整。*